<table mat-table [dataSource]="dataSource" class="mat-elevation-z8">
  <!-- Optional Radio Button Column -->
  <ng-container
    *ngIf="displayedColumns.includes('select')"
    matColumnDef="select"
  >
    <th mat-header-cell *matHeaderCellDef>Select</th>
    <td mat-cell *matCellDef="let element">
      <app-cade-input
        type="radio"
        name="selectRadio"
        (change)="onSelectChange(element)"
        [checked]="element.select"
      ></app-cade-input>
    </td>
  </ng-container>

  <!-- All columns sent through displayedColumns input binding -->
  <ng-container
    *ngFor="let column of getDisplayedColumns()"
    [matColumnDef]="column"
  >
    <th mat-header-cell *matHeaderCellDef>
      {{ getColumnDisplayName(column) }}
    </th>
    <td mat-cell *matCellDef="let element">{{ element[column] }}</td>
  </ng-container>

  <!-- Optional Loan Status Column -->
  <ng-container
    *ngIf="displayedColumns.includes('loanStatus')"
    matColumnDef="loanStatus"
  >
    <th mat-header-cell *matHeaderCellDef>Loan Status</th>
    <td mat-cell *matCellDef="let element">
      <span class="status-tag" [ngClass]="getStatusClass(element.loanStatus)">{{
        element.loanStatus
      }}</span>
    </td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
</table>
